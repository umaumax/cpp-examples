# float test

[FE\_DIVBYZERO, FE\_INEXACT, FE\_INVALID, FE\_OVERFLOW, FE\_UNDERFLOW, FE\_ALL\_EXCEPT \- cppreference\.com]( https://ja.cppreference.com/w/cpp/numeric/fenv/FE_exceptions )

## NOTE
* お試しときには`-O0`とすること

## FE_INEXACT
* 割り算でほぼ必ず(加算や乗算はOK)
  * `std::cout << f;`: maybe has division?

## FE_OVERFLOW
Mac OS Xでは起きなかったが，Ubuntuでは起きた(OSというよりかはCPUかな)
```
float result = std::numeric_limits<double>::max();
```

## result
### Max OS X
```
# g++-7
$ ./a.out
main.cpp:16 RAISED FLOATING-POINT OVERFLOW: d xx = inf
main.cpp:19 FE_ALL_EXCEPT SUCCESS
main.cpp:31 FE_ALL_EXCEPT SUCCESS
main.cpp:42 RAISED FLOATING-POINT UNDERFLOW: f f_underflow = 0.000000
main.cpp:44 FE_ALL_EXCEPT SUCCESS
# clang 7.0.1
$ ./a.out
main.cpp:16 RAISED FLOATING-POINT OVERFLOW: d xx = inf
main.cpp:19 FE_ALL_EXCEPT SUCCESS
main.cpp:28 RAISED FLOATING-POINT OVERFLOW: f f_overflow = inf
main.cpp:31 FE_ALL_EXCEPT SUCCESS
main.cpp:42 RAISED FLOATING-POINT UNDERFLOW: f f_underflow = 0.000000
main.cpp:44 FE_ALL_EXCEPT SUCCESS
```
### Ubuntu
```
main.cpp:16 RAISED FLOATING-POINT OVERFLOW: d xx = inf
main.cpp:19 FE_ALL_EXCEPT SUCCESS
main.cpp:28 RAISED FLOATING-POINT OVERFLOW: f f_overflow = inf
main.cpp:31 FE_ALL_EXCEPT SUCCESS
main.cpp:42 RAISED FLOATING-POINT UNDERFLOW: f f_underflow = 0.000000
main.cpp:44 FE_ALL_EXCEPT SUCCESS
```

----

## floor and cast(int)

```
g++ -std=c++11 -O3 floor_and_cast.cpp -o floor_and_cast
```

```
$ ./floor_and_cast
val:-2.2 int(-2.2) = -2 != floor(-2.2) = -3
val:-2.1 int(-2.1) = -2 != floor(-2.1) = -3
val:-2 
val:-1.9 int(-1.9) = -1 != floor(-1.9) = -2
val:-1.8 int(-1.8) = -1 != floor(-1.8) = -2
val:-1.7 int(-1.7) = -1 != floor(-1.7) = -2
val:-1.6 int(-1.6) = -1 != floor(-1.6) = -2
val:-1.5 int(-1.5) = -1 != floor(-1.5) = -2
val:-1.4 int(-1.4) = -1 != floor(-1.4) = -2
val:-1.3 int(-1.3) = -1 != floor(-1.3) = -2
val:-1.2 int(-1.2) = -1 != floor(-1.2) = -2
val:-1.1 int(-1.1) = -1 != floor(-1.1) = -2
val:-1 
val:-0.9 int(-0.9) = 0 != floor(-0.9) = -1
val:-0.8 int(-0.8) = 0 != floor(-0.8) = -1
val:-0.7 int(-0.7) = 0 != floor(-0.7) = -1
val:-0.6 int(-0.6) = 0 != floor(-0.6) = -1
val:-0.5 int(-0.5) = 0 != floor(-0.5) = -1
val:-0.4 int(-0.4) = 0 != floor(-0.4) = -1
val:-0.3 int(-0.3) = 0 != floor(-0.3) = -1
val:-0.2 int(-0.2) = 0 != floor(-0.2) = -1
val:-0.1 int(-0.1) = 0 != floor(-0.1) = -1
val:0 
val:0.1 
val:0.2 
val:0.3 
val:0.4 
val:0.5 
val:0.6 
val:0.7 
val:0.8 
val:0.9 
val:1 
val:1.1 
val:1.2 
val:1.3 
val:1.4 
val:1.5 
val:1.6 
val:1.7 
val:1.8 
val:1.9 
val:2 
val:2.1 
val:2.2 
```

----

## floor_and_sin_and_cos

```
g++ -std=c++11 -O3 floor_and_sin_and_cos.cpp -o floor_and_sin_and_cos
```

```
$ ./floor_and_sin_and_cos
[0][1] cos(0.0003141593)=0.9999999404
  1.0000000000+floor(0.9999999404) = 1
  floor(1.0000000000+0.9999999404=2.0000000000) = 2
[0][2] cos(0.0003141593)=0.9999999404
  2.0000000000+floor(0.9999999404) = 2
  floor(2.0000000000+0.9999999404=3.0000000000) = 3
[0][3] cos(0.0003141593)=0.9999999404
  3.0000000000+floor(0.9999999404) = 3
  floor(3.0000000000+0.9999999404=4.0000000000) = 4
[0][4] cos(0.0003141593)=0.9999999404
  4.0000000000+floor(0.9999999404) = 4
  floor(4.0000000000+0.9999999404=5.0000000000) = 5
[0][5] cos(0.0003141593)=0.9999999404
  5.0000000000+floor(0.9999999404) = 5
  floor(5.0000000000+0.9999999404=6.0000000000) = 6
[0][6] cos(0.0003141593)=0.9999999404
  6.0000000000+floor(0.9999999404) = 6
  floor(6.0000000000+0.9999999404=7.0000000000) = 7
[0][7] cos(0.0003141593)=0.9999999404
  7.0000000000+floor(0.9999999404) = 7
  floor(7.0000000000+0.9999999404=8.0000000000) = 8
[0][8] cos(0.0003141593)=0.9999999404
  8.0000000000+floor(0.9999999404) = 8
  floor(8.0000000000+0.9999999404=9.0000000000) = 9
[0][9] cos(0.0003141593)=0.9999999404
  9.0000000000+floor(0.9999999404) = 9
  floor(9.0000000000+0.9999999404=10.0000000000) = 10

[1][4] cos(0.0006283185)=0.9999998212
  4.0000000000+floor(0.9999998212) = 4
  floor(4.0000000000+0.9999998212=5.0000000000) = 5
[1][5] cos(0.0006283185)=0.9999998212
  5.0000000000+floor(0.9999998212) = 5
  floor(5.0000000000+0.9999998212=6.0000000000) = 6
[1][6] cos(0.0006283185)=0.9999998212
  6.0000000000+floor(0.9999998212) = 6
  floor(6.0000000000+0.9999998212=7.0000000000) = 7
[1][7] cos(0.0006283185)=0.9999998212
  7.0000000000+floor(0.9999998212) = 7
  floor(7.0000000000+0.9999998212=8.0000000000) = 8
[1][8] cos(0.0006283185)=0.9999998212
  8.0000000000+floor(0.9999998212) = 8
  floor(8.0000000000+0.9999998212=9.0000000000) = 9
[1][9] cos(0.0006283185)=0.9999998212
  9.0000000000+floor(0.9999998212) = 9
  floor(9.0000000000+0.9999998212=10.0000000000) = 10

[2][8] cos(0.0009424778)=0.9999995828
  8.0000000000+floor(0.9999995828) = 8
  floor(8.0000000000+0.9999995828=9.0000000000) = 9
[2][9] cos(0.0009424778)=0.9999995828
  9.0000000000+floor(0.9999995828) = 9
  floor(9.0000000000+0.9999995828=10.0000000000) = 10

[4996][8] sin(1.5697937012)=0.9999995232
  8.0000000000+floor(0.9999995232) = 8
  floor(8.0000000000+0.9999995232=9.0000000000) = 9
[4996][9] sin(1.5697937012)=0.9999995232
  9.0000000000+floor(0.9999995232) = 9
  floor(9.0000000000+0.9999995232=10.0000000000) = 10

[4997][4] sin(1.5701078176)=0.9999997616
  4.0000000000+floor(0.9999997616) = 4
  floor(4.0000000000+0.9999997616=5.0000000000) = 5
[4997][5] sin(1.5701078176)=0.9999997616
  5.0000000000+floor(0.9999997616) = 5
  floor(5.0000000000+0.9999997616=6.0000000000) = 6
[4997][6] sin(1.5701078176)=0.9999997616
  6.0000000000+floor(0.9999997616) = 6
  floor(6.0000000000+0.9999997616=7.0000000000) = 7
[4997][7] sin(1.5701078176)=0.9999997616
  7.0000000000+floor(0.9999997616) = 7
  floor(7.0000000000+0.9999997616=8.0000000000) = 8
[4997][8] sin(1.5701078176)=0.9999997616
  8.0000000000+floor(0.9999997616) = 8
  floor(8.0000000000+0.9999997616=9.0000000000) = 9
[4997][9] sin(1.5701078176)=0.9999997616
  9.0000000000+floor(0.9999997616) = 9
  floor(9.0000000000+0.9999997616=10.0000000000) = 10

[4998][1] sin(1.5704219341)=0.9999999404
  1.0000000000+floor(0.9999999404) = 1
  floor(1.0000000000+0.9999999404=2.0000000000) = 2
[4998][2] sin(1.5704219341)=0.9999999404
  2.0000000000+floor(0.9999999404) = 2
  floor(2.0000000000+0.9999999404=3.0000000000) = 3
[4998][3] sin(1.5704219341)=0.9999999404
  3.0000000000+floor(0.9999999404) = 3
  floor(3.0000000000+0.9999999404=4.0000000000) = 4
[4998][4] sin(1.5704219341)=0.9999999404
  4.0000000000+floor(0.9999999404) = 4
  floor(4.0000000000+0.9999999404=5.0000000000) = 5
[4998][5] sin(1.5704219341)=0.9999999404
  5.0000000000+floor(0.9999999404) = 5
  floor(5.0000000000+0.9999999404=6.0000000000) = 6
[4998][6] sin(1.5704219341)=0.9999999404
  6.0000000000+floor(0.9999999404) = 6
  floor(6.0000000000+0.9999999404=7.0000000000) = 7
[4998][7] sin(1.5704219341)=0.9999999404
  7.0000000000+floor(0.9999999404) = 7
  floor(7.0000000000+0.9999999404=8.0000000000) = 8
[4998][8] sin(1.5704219341)=0.9999999404
  8.0000000000+floor(0.9999999404) = 8
  floor(8.0000000000+0.9999999404=9.0000000000) = 9
[4998][9] sin(1.5704219341)=0.9999999404
  9.0000000000+floor(0.9999999404) = 9
  floor(9.0000000000+0.9999999404=10.0000000000) = 10

[5000][1] sin(1.5710501671)=0.9999999404
  1.0000000000+floor(0.9999999404) = 1
  floor(1.0000000000+0.9999999404=2.0000000000) = 2
[5000][2] sin(1.5710501671)=0.9999999404
  2.0000000000+floor(0.9999999404) = 2
  floor(2.0000000000+0.9999999404=3.0000000000) = 3
[5000][3] sin(1.5710501671)=0.9999999404
  3.0000000000+floor(0.9999999404) = 3
  floor(3.0000000000+0.9999999404=4.0000000000) = 4
[5000][4] sin(1.5710501671)=0.9999999404
  4.0000000000+floor(0.9999999404) = 4
  floor(4.0000000000+0.9999999404=5.0000000000) = 5
[5000][5] sin(1.5710501671)=0.9999999404
  5.0000000000+floor(0.9999999404) = 5
  floor(5.0000000000+0.9999999404=6.0000000000) = 6
[5000][6] sin(1.5710501671)=0.9999999404
  6.0000000000+floor(0.9999999404) = 6
  floor(6.0000000000+0.9999999404=7.0000000000) = 7
[5000][7] sin(1.5710501671)=0.9999999404
  7.0000000000+floor(0.9999999404) = 7
  floor(7.0000000000+0.9999999404=8.0000000000) = 8
[5000][8] sin(1.5710501671)=0.9999999404
  8.0000000000+floor(0.9999999404) = 8
  floor(8.0000000000+0.9999999404=9.0000000000) = 9
[5000][9] sin(1.5710501671)=0.9999999404
  9.0000000000+floor(0.9999999404) = 9
  floor(9.0000000000+0.9999999404=10.0000000000) = 10

[5001][4] sin(1.5713642836)=0.9999998212
  4.0000000000+floor(0.9999998212) = 4
  floor(4.0000000000+0.9999998212=5.0000000000) = 5
[5001][5] sin(1.5713642836)=0.9999998212
  5.0000000000+floor(0.9999998212) = 5
  floor(5.0000000000+0.9999998212=6.0000000000) = 6
[5001][6] sin(1.5713642836)=0.9999998212
  6.0000000000+floor(0.9999998212) = 6
  floor(6.0000000000+0.9999998212=7.0000000000) = 7
[5001][7] sin(1.5713642836)=0.9999998212
  7.0000000000+floor(0.9999998212) = 7
  floor(7.0000000000+0.9999998212=8.0000000000) = 8
[5001][8] sin(1.5713642836)=0.9999998212
  8.0000000000+floor(0.9999998212) = 8
  floor(8.0000000000+0.9999998212=9.0000000000) = 9
[5001][9] sin(1.5713642836)=0.9999998212
  9.0000000000+floor(0.9999998212) = 9
  floor(9.0000000000+0.9999998212=10.0000000000) = 10

[5002][8] sin(1.5716784000)=0.9999995828
  8.0000000000+floor(0.9999995828) = 8
  floor(8.0000000000+0.9999995828=9.0000000000) = 9
[5002][9] sin(1.5716784000)=0.9999995828
  9.0000000000+floor(0.9999995828) = 9
  floor(9.0000000000+0.9999995828=10.0000000000) = 10

[19993][8] cos(6.2822227478)=0.9999995232
  8.0000000000+floor(0.9999995232) = 8
  floor(8.0000000000+0.9999995232=9.0000000000) = 9
[19993][9] cos(6.2822227478)=0.9999995232
  9.0000000000+floor(0.9999995232) = 9
  floor(9.0000000000+0.9999995232=10.0000000000) = 10

[19994][4] cos(6.2825369835)=0.9999997616
  4.0000000000+floor(0.9999997616) = 4
  floor(4.0000000000+0.9999997616=5.0000000000) = 5
[19994][5] cos(6.2825369835)=0.9999997616
  5.0000000000+floor(0.9999997616) = 5
  floor(5.0000000000+0.9999997616=6.0000000000) = 6
[19994][6] cos(6.2825369835)=0.9999997616
  6.0000000000+floor(0.9999997616) = 6
  floor(6.0000000000+0.9999997616=7.0000000000) = 7
[19994][7] cos(6.2825369835)=0.9999997616
  7.0000000000+floor(0.9999997616) = 7
  floor(7.0000000000+0.9999997616=8.0000000000) = 8
[19994][8] cos(6.2825369835)=0.9999997616
  8.0000000000+floor(0.9999997616) = 8
  floor(8.0000000000+0.9999997616=9.0000000000) = 9
[19994][9] cos(6.2825369835)=0.9999997616
  9.0000000000+floor(0.9999997616) = 9
  floor(9.0000000000+0.9999997616=10.0000000000) = 10

[19995][1] cos(6.2828512192)=0.9999999404
  1.0000000000+floor(0.9999999404) = 1
  floor(1.0000000000+0.9999999404=2.0000000000) = 2
[19995][2] cos(6.2828512192)=0.9999999404
  2.0000000000+floor(0.9999999404) = 2
  floor(2.0000000000+0.9999999404=3.0000000000) = 3
[19995][3] cos(6.2828512192)=0.9999999404
  3.0000000000+floor(0.9999999404) = 3
  floor(3.0000000000+0.9999999404=4.0000000000) = 4
[19995][4] cos(6.2828512192)=0.9999999404
  4.0000000000+floor(0.9999999404) = 4
  floor(4.0000000000+0.9999999404=5.0000000000) = 5
[19995][5] cos(6.2828512192)=0.9999999404
  5.0000000000+floor(0.9999999404) = 5
  floor(5.0000000000+0.9999999404=6.0000000000) = 6
[19995][6] cos(6.2828512192)=0.9999999404
  6.0000000000+floor(0.9999999404) = 6
  floor(6.0000000000+0.9999999404=7.0000000000) = 7
[19995][7] cos(6.2828512192)=0.9999999404
  7.0000000000+floor(0.9999999404) = 7
  floor(7.0000000000+0.9999999404=8.0000000000) = 8
[19995][8] cos(6.2828512192)=0.9999999404
  8.0000000000+floor(0.9999999404) = 8
  floor(8.0000000000+0.9999999404=9.0000000000) = 9
[19995][9] cos(6.2828512192)=0.9999999404
  9.0000000000+floor(0.9999999404) = 9
  floor(9.0000000000+0.9999999404=10.0000000000) = 10

[19997][1] cos(6.2834796906)=0.9999999404
  1.0000000000+floor(0.9999999404) = 1
  floor(1.0000000000+0.9999999404=2.0000000000) = 2
[19997][2] cos(6.2834796906)=0.9999999404
  2.0000000000+floor(0.9999999404) = 2
  floor(2.0000000000+0.9999999404=3.0000000000) = 3
[19997][3] cos(6.2834796906)=0.9999999404
  3.0000000000+floor(0.9999999404) = 3
  floor(3.0000000000+0.9999999404=4.0000000000) = 4
[19997][4] cos(6.2834796906)=0.9999999404
  4.0000000000+floor(0.9999999404) = 4
  floor(4.0000000000+0.9999999404=5.0000000000) = 5
[19997][5] cos(6.2834796906)=0.9999999404
  5.0000000000+floor(0.9999999404) = 5
  floor(5.0000000000+0.9999999404=6.0000000000) = 6
[19997][6] cos(6.2834796906)=0.9999999404
  6.0000000000+floor(0.9999999404) = 6
  floor(6.0000000000+0.9999999404=7.0000000000) = 7
[19997][7] cos(6.2834796906)=0.9999999404
  7.0000000000+floor(0.9999999404) = 7
  floor(7.0000000000+0.9999999404=8.0000000000) = 8
[19997][8] cos(6.2834796906)=0.9999999404
  8.0000000000+floor(0.9999999404) = 8
  floor(8.0000000000+0.9999999404=9.0000000000) = 9
[19997][9] cos(6.2834796906)=0.9999999404
  9.0000000000+floor(0.9999999404) = 9
  floor(9.0000000000+0.9999999404=10.0000000000) = 10

[19998][4] cos(6.2837939262)=0.9999998212
  4.0000000000+floor(0.9999998212) = 4
  floor(4.0000000000+0.9999998212=5.0000000000) = 5
[19998][5] cos(6.2837939262)=0.9999998212
  5.0000000000+floor(0.9999998212) = 5
  floor(5.0000000000+0.9999998212=6.0000000000) = 6
[19998][6] cos(6.2837939262)=0.9999998212
  6.0000000000+floor(0.9999998212) = 6
  floor(6.0000000000+0.9999998212=7.0000000000) = 7
[19998][7] cos(6.2837939262)=0.9999998212
  7.0000000000+floor(0.9999998212) = 7
  floor(7.0000000000+0.9999998212=8.0000000000) = 8
[19998][8] cos(6.2837939262)=0.9999998212
  8.0000000000+floor(0.9999998212) = 8
  floor(8.0000000000+0.9999998212=9.0000000000) = 9
[19998][9] cos(6.2837939262)=0.9999998212
  9.0000000000+floor(0.9999998212) = 9
  floor(9.0000000000+0.9999998212=10.0000000000) = 10

[19999][8] cos(6.2841081619)=0.9999995828
  8.0000000000+floor(0.9999995828) = 8
  floor(8.0000000000+0.9999995828=9.0000000000) = 9
[19999][9] cos(6.2841081619)=0.9999995828
  9.0000000000+floor(0.9999995828) = 9
  floor(9.0000000000+0.9999995828=10.0000000000) = 10

```
